<!doctype html>
<html>

<head>
    <title>Complete JavaScript Course</title>
</head>

<body>
    <span class="val1"></span> <span>+</span> <span class="val2"></span> = <span>
        <input type="text" name="answer"></span><button>Check</button>
    <div class="output"></div>
    <script>
        //Wrap code within a app function
        let app = function () {
            //Selecting all page elements as JS objects
            let val1 = document.querySelector(".val1"),
                val2 = document.querySelector(".val2"),
                output = document.querySelector(".output"),
                answer = document.querySelector("input"),
                //Game object
                game = {};

            //Adding an event listener to the init function
            function init() {
                //Track the checker function when clicked
                document.querySelector("button").addEventListener("click", checker);
                //Call load question
                loadQuestion();
            }

            //A random number generator function
            function randVal(min, max) {
                return Math.floor(Math.random() * (max - min + 1) + min);
            }

            //A function to load the questions to generate two random values
            function loadQuestion() {
                //Rand values, add them to the game object
                game.val1 = randVal(1, 100);
                game.val2 = randVal(1, 100);

                //Add both values and add to game object
                game.answer = game.val1 + game.val2;
                val1.textContent = game.val1;
                val2.textContent = game.val2;
            }

            //A checker function to determine wether the answer is correct or not
            function checker() {
                let bg = answer.value == game.answer ? "green" : "red";
                output.innerHTML +=
                    `<div style="color:${bg}">${game.val1} + ${game.val2} = ${game.answer} (${answer.value})</div>`;
                answer.value = "";
                loadQuestion();
            }

            return {
                init: init
            };
        }();

        //A domcontentloaded event listener that invokes the function
        document.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>

</html>